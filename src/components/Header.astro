---
import { defaultLocale, fallback } from "@i18n/i18n";
import HeaderLink from "./HeaderLink.astro";
import { headerMenu } from "@src/header";
import type { navigationItem } from "@src/header";
import type { TranslationLink } from "./MainI18n.astro";
import Logo from './Logo';
import Nav from './Nav';

// If no items are available for the page's locale, the items for the defaultLocale will be used:
const menuLocale: string = headerMenu[Astro.currentLocale]
  ? Astro.currentLocale
  : fallback[Astro.currentLocale] || defaultLocale;
const headerMenuItems: navigationItem[] = headerMenu[menuLocale].items;

const height = Astro.url.pathname === '/faq' ? 45 : 30;
const classname = `h-fit pb-2 md:h-${height} lg:h-30 border-black flex-wrap justify-center z-20 border-b-4`;
---

<header class={classname}>
  <Logo client:load />
  <Nav client:load headerMenuItems={headerMenuItems} pathname={Astro.url.pathname} />
</header>
